!function(e){e(window)}(function(e){function r(e){return Object.prototype.toString.call(e)}function a(e){return r(e)===z}function t(e){return typeof e.value!==Z?e.value||"":typeof e.getAttribute!==Z?e.getAttribute("data-value")||"":e||""}function n(e){var r="The parameters for length is illegal.";e=e[0];var a=/\s*([\(\[])\s*(\d+)?\s*,\s*(\d+)?\s*([\)\]])\s*/,t=e.match(a);if(null===t)throw new TypeError(r);var n=t[2],u=t[3];if(typeof n===Z)n=0;else if("("===t[1])n=+n+1;else{if("["!==t[1])throw new TypeError(r);n=+n}if(typeof u===Z)u=1/0;else if(")"===t[4])u=+u-1;else{if("]"!==t[4])throw new TypeError(r);u=+u}if(n!==n||u!==u)throw new TypeError(r);return[n,u]}function u(e){var r="The parameters for range is illegal.";e=e[0];var a=/\s*([\(\[])\s*((0|([\+\-]?[1-9]\d*))(\.[0-9]+)?)?\s*,\s*((0|([\+\-]?[1-9]\d*))(\.[0-9]+)?)?\s*([\)\]])\s*/,t=e.match(a);if(null===t)throw new TypeError(r);var n,u,l=t[2],s=t[6];return l=typeof l===Z?-(1/0):+l,n="["===t[1],s=typeof s===Z?1/0:+s,u="]"===t[10],[n,l,s,u]}function l(e,r){return C[e]>C[r]||C[e]===C[r]&&!/^(\*|\?|!)$/g.test(e)&&!/^(\*|\?|!)$/g.test(r)}function s(e){for(var r,a=[],t=[],n=[],u=0,s="",f="",o=e.length;o>u;)switch(r=e[u++]){case"{":case"}":case"!":case"*":case"?":s.length>0&&a.push(s),a.push(r),s="";break;case"&":case"|":r===f?(s.length>0&&a.push(s),a.push(f+f),s="",f=""):f+=r;break;default:s+=r}s.length>0&&a.push(s),u=0,o=a.length;for(var i,F;o>u;)switch(r=a[u++]){case"{":n.push(r);break;case"||":case"&&":case"!":case"*":case"?":for(i=n.length-1;i>=0&&/^(\*|\?|\|\||&&|!)$/g.test(n[i])&&l(n[i],r);)t.push(n.pop()),i--;n.push(r);break;case"}":for(i=n.length-1;i>=0&&(F=n.pop(),"{"!==F);)t.push(F),i--;break;default:t.push(r)}if(n.length>0)for(i=n.length-1;i>=0&&(F=n.pop(),"{"!==F);)t.push(F),i--;return t}function f(e,a,l){var s=e.split(":");e=s[0].replace(/length/i,"long");var f,i=l?j[e]||_[e]:this.cs[e]||j[e]||_[e];switch(r(i)){case z:f=o.call(this,i,a,l);break;case m:var F,d=s.slice(1);switch(e){case"long":F=n(d);break;case"range":F=u(d);break;default:F=d}if(l)F.unshift(a);else{var c=[];if(null!==a)for(var h=0;h<a.length;++h)c.push(t(a[h]));F.unshift(c)}f=i.apply(null,F);break;case $:f=i;break;default:throw new TypeError("Checker for rule "+s[0]+" must be a Function.")}return f}function o(e,a,t){for(var n=[],u=0;u<e.length;++u){var l=e[u];switch(l){case"&&":var s=n.pop(),o=n.pop(),i=r(o)===k?f.call(this,o,a,t):o,F=r(s)===k?f.call(this,s,a,t):s,d=w.and(i,F);n.push(d);break;case"||":var s=n.pop(),o=n.pop(),i=r(o)===k?f.call(this,o,a,t):o,F=r(s)===k?f.call(this,s,a,t):s,d=w.or(i,F);n.push(d);break;case"!":var o=n.pop(),d=w.not(r(o)===k?f.call(this,o,a,t):o);n.push(d);break;case"*":var o=n.pop(),d=w.all(r(o)===k?f.call(this,o,a,t):o);n.push(d);break;case"?":var o=n.pop(),d=w.any(r(o)===k?f.call(this,o,a,t):o);n.push(d);break;default:n.push(l)}}var c=n.pop();return r(c)===k?f.call(this,c,a,t):c}function i(e){e=e||[],this.cs={},this.vs=F(e)}function F(e,t){e=r(e)===z?e:[e];for(var n=[],u=0;u<e.length;++u){var l=e[u],f={},o=t?t(l.field):l.field;f.fs=o?a(o)?o:[o]:null,f.rs=[];for(var i=a(l.rules)?l.rules:[l.rules],d=0;d<i.length;++d){var c=i[d],h={};h["if"]=s(c["if"]),h.no=c.fail?c.fail:!1,h.yes=c.success?F(c.success):!1,f.rs.push(h)}n.push(f)}return n}function d(e,t){var n,u=t;switch(r(u)){case $:case m:n=u;break;case k:try{n=s(u)}catch(l){throw new Error("Cannot parse condition expression.")}break;case E:n=function(e){var r=!0;if(a(e)){for(var n=0,l=e.length;l>n;++n)if(!u.test(e[n])){r=!1;break}}else t.rule.test(e)||(r=!1);return r};break;default:throw new TypeError("Rule type not support.")}this.cs[e]=n}function c(e){typeof this.cs[e]!==Z&&delete this.cs[e]}function h(e){for(var r=!0,a=0;a<e.length;++a){for(var t=e[a],n=t.fs,u=t.rs,l=0;l<u.length;++l){var s=u[l],f=o.call(this,s["if"],n,!1);if(f=w.all(f),!f){var i=n.length<2?n[0]:n;s.no&&(r=!1,s.no.call(i));break}s.yes&&(r=h.call(this,s.yes))}if(!r)break}return r}function p(e){return null===e||typeof e===Z||""===e}function v(e){if(!a(e))return!1;for(var r=!0,t=0;t<e.length-1;++t)if(e[t]!==e[t+1]){r=!1;break}return r}function A(e){var r;if(a(e)){r=[];for(var t=0;t<e.length;++t)r.push(p(e[t]))}else r=p(e);return r}function g(e,r,t){var n,u;if(r=r||-(1/0),t=t||1/0,a(e)){n=[];for(var l=0;l<e.length;++l)u=e[l].length,n.push(u>=r&&t>=u)}else u=e.length,n=u>=r&&t>=u;return n}function y(e,r,t,n,u){var l;if(a(e)){l=[];for(var s=0;s<e.length;++s){var f=Number(e[s]);l.push((r&&f>=t||!r&&f>t)&&(u&&n>=f||!u&&n>f))}}else e=Number(e),l=(r&&e>=t||!r&&e>t)&&(u&&n>=e||!u&&n>e);return l}function b(e,t){var n;switch(r(t)){case E:n=function(e){var r;if(a(e)){r=[];for(var n=0;n<e.length;++n)r.push(t.test(e[n]))}else r=t.test(e);return r};break;case m:n=t;break;default:throw new TypeError("Default Matcher Type Error.")}_[e]=n,q[e]=n,N[e]=function(){return w.not(n.apply(null,arguments))},P[e]=function(){return w.all(n.apply(null,arguments))},O[e]=function(){return w.any(n.apply(null,arguments))}}function D(e,t){var n;switch(r(t)){case k:var u;try{u=s(t)}catch(l){throw console.error("无法解析的条件表达式"),new Error(l)}n=u;break;case E:n=function(e){var r;if(a(e)){r=[];for(var n=0;n<e.length;++n)r.push(t.test(e[n]))}else r=t.test(e);return r};break;case m:n=t;break;default:throw new TypeError("API Checker Type Error.")}j[e]=n}var w=function(){var e={};return e.or=function(e,r){var t=[],n=a(e),u=a(r);if(n&&u)for(var l=0;l<e.length;++l)t[l]=e[l]||r[l];else if(n)for(var l=0;l<e.length;++l)t[l]=e[l]||r;else if(u)for(var l=0;l<r.length;++l)t[l]=r[l]||e;else t=e||r;return t},e.and=function(e,r){var t=[],n=a(e),u=a(r);if(n&&u)for(var l=0;l<e.length;++l)t[l]=e[l]&&r[l];else if(n)for(var l=0;l<e.length;++l)t[l]=e[l]&&r;else if(u)for(var l=0;l<r.length;++l)t[l]=r[l]&&e;else t=e&&r;return t},e.not=function(e){var r=[];if(a(e))for(var t=0;t<e.length;++t)r[t]=!e[t];else r=!e;return r},e.all=function(e){var r=!0;if(a(e))for(var t=0;t<e.length;++t)r=r&&e[t];else r=r&&e;return r},e.any=function(e){var r=!1;if(a(e))for(var t=0;t<e.length;++t)r=r||e[t];else r=r||e;return r},e}(),x=function(e){return this.hasOwnProperty(e)},k="[object String]",z="[object Array]",m="[object Function]",E="[object RegExp]",$="[object Boolean]",Z="undefined",C={"||":0,"&&":1,"!":2,"*":2,"?":2},T=i.prototype;T.add=function(e){for(var r in e)x.call(e,r)&&d.call(this,r,e[r]);return this},T.remove=function(e){if(a(e))for(var r=0;r<e.length;++r)c.call(this,e[r]);else c.call(this,e);return this},T.check=function(){return h.call(this,this.vs)};var _={},S={url:/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/,email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,number:/^(0|([\+\-]?[1-9]\d*))(\.[0-9]+)?$/,"int":/^(0|([\+\-]?[1-9]\d*))$/,positive:/^\+?[1-9]\d*$/,negative:/^\-[1-9]\d*$/,varName:/^[a-zA-Z_][a-zA-Z0-9_]*$/,nickName:/^[\u4E00-\u9FA5\uF900-\uFA2Da-zA-Z_][\u4E00-\u9FA5\uF900-\uFA2Da-zA-Z0-9_]*$/,QQ:/^[1-9][0-9]{4,}$/,ip:/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$|^(([a-zA-Z]|[a-zA-Z][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z]|[A-Za-z][A-Za-z0-9\-]*[A-Za-z0-9])$|^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,ipv4:/^(?:(?:\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])\.){3}(?:\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])$/,ipv6:/^(([a-zA-Z]|[a-zA-Z][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z]|[A-Za-z][A-Za-z0-9\-]*[A-Za-z0-9])$|^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,upperCase:/^[A-Z]+$/,lowerCase:/^[a-z]+$/,empty:A,equal:v,"long":g,range:y},j={},q=i.is=function(e,r){return f.call(null,e,r,!0)},N=i.not=function(e,r){return w.not(q(e,r))},O=i.any=function(e,r){return w.any(q(e,r))},P=i.all=function(e,r){return w.all(q(e,r))};for(var Q in S)x.call(S,Q)&&b(Q,S[Q]);i.api=function(e){for(var r in e)x.call(e,r)&&D.call(this,r,e[r]);return this},i.api.list=function(){console.log(j)};var R=function(e,t){t=t||[],this.$form=r(e)===k?document.querySelectorAll(e)[0]:e,this.cs={};var n=this;this.vs=F(t,function(e){if(!e)return e;var r=[];if(a(e))for(var t=0;t<e.length;++t){var u=n.$form.querySelectorAll("[name="+e[t]+"]")[0]||n.$form.querySelectorAll("[data-name="+e[t]+"]")[0];r.push(u)}else{var u=n.$form.querySelectorAll("[name="+e+"]")[0]||n.$form.querySelectorAll("[data-name="+e+"]")[0];r.push(u)}return r})};R.prototype=new i,R.prototype.constructor=R,R.prototype.check=function(){return i.prototype.check.call(this,this.$form)},e.Validator=i,e.FormValidator=R});
//# sourceMappingURL=validator.min.js.map